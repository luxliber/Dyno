<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:wpg="clr-namespace:WPG;assembly=WPG"
    xmlns:clr="clr-namespace:System;assembly=mscorlib"
    xmlns:props="clr-namespace:Prorubim.DynoStudio.Props"
    xmlns:converters1="clr-namespace:Prorubim.DynoStudio.Utils.Converters">

    

   
    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId={x:Type clr:Boolean}}">
        <CheckBox IsEnabled="{Binding Path=IsWriteable}" IsChecked="{Binding Path=Value}" />
    </DataTemplate>

    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ImagePath}">
        <ComboBox Text="{Binding Value}" TextSearch.TextPath=""  IsEditable="True" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ComboBoxStyle}}">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <ContentPresenter Content="{Binding}"></ContentPresenter>
                </DataTemplate>
            </ComboBox.ItemTemplate>
            <ComboBox.ItemsSource>
                <Binding Path="Value">
                    <Binding.Converter>
                        <converters1:FormImageSourceScanner />
                    </Binding.Converter>
                </Binding>
            </ComboBox.ItemsSource>
        </ComboBox>
    </DataTemplate>

    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=Binding}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
        <ComboBox Text="{Binding Value}" TextSearch.TextPath="" IsEditable="True" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ComboBoxStyle}}">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <ContentPresenter Content="{Binding}"></ContentPresenter>
                </DataTemplate>
            </ComboBox.ItemTemplate>
            <ComboBox.ItemsSource>
                <Binding Path="Value">
                    <Binding.Converter>
                        <converters1:PresetBindingScanner />
                    </Binding.Converter>
                </Binding>
            </ComboBox.ItemsSource>
        </ComboBox>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=Expression}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <ComboBox Name="Box" Text="{Binding Path=Value}" TextSearch.TextPath=""  IsEditable="True" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ComboBoxStyle}}">
               
                <ComboBox.ItemsSource>
                    <Binding Path="Value">
                        <Binding.Converter>
                            <converters1:PresetBindingScanner />
                        </Binding.Converter>
                    </Binding>
                </ComboBox.ItemsSource>
            </ComboBox>
            <props:ExpressionButton Tag="{Binding ElementName=Box  }" Text="{Binding Path=Value, Mode=TwoWay}" Style="{DynamicResource {x:Type Button}}" Focusable="False" Grid.Column="1" Content="..."/>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=FontWeight}">
        <ComboBox Text="{Binding Value}" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ComboBoxStyle}}">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <ContentPresenter Content="{Binding}"></ContentPresenter>
                </DataTemplate>
            </ComboBox.ItemTemplate>
            <ComboBox.ItemsSource>
                <Binding Path="Value">
                    <Binding.Converter>
                        <converters1:FontWeightScanner />
                    </Binding.Converter>
                </Binding>
            </ComboBox.ItemsSource>
        </ComboBox>
    </DataTemplate>

    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=FontSize}">
        <ComboBox IsEditable="True" Text="{Binding Value}" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=ComboBoxStyle}}">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <ContentPresenter Content="{Binding}"></ContentPresenter>
                </DataTemplate>
            </ComboBox.ItemTemplate>
            <ComboBox.ItemsSource>
                <Binding Path="Value">
                    <Binding.Converter>
                        <converters1:FontSizeScanner />
                    </Binding.Converter>
                </Binding>
            </ComboBox.ItemsSource>
        </ComboBox>
    </DataTemplate>

    <converters1:StringToBrushConverter x:Key="StringToBrushConverter"></converters1:StringToBrushConverter>
    
    <DataTemplate x:Key="{ComponentResourceKey TypeInTargetAssembly={x:Type wpg:PropertyGrid}, ResourceId=Color}">
        <Grid>
            <props:ColorButton Style="{DynamicResource {x:Type Button}}" FontSize="12" Color="{Binding Path=Value, Mode=TwoWay}" Content="{Binding Path=Value, Mode=OneWay}" FontWeight="Normal" Foreground="{Binding Path=Value, Converter={StaticResource StringToBrushConverter}}"/>
               
        </Grid>
    </DataTemplate>


</ResourceDictionary>

