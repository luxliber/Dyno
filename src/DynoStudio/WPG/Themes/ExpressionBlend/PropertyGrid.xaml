<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:clr="clr-namespace:System;assembly=mscorlib" xmlns:clr2="clr-namespace:System.Collections;assembly=mscorlib" xmlns:local="clr-namespace:WPG" xmlns:data="clr-namespace:WPG.Data" xmlns:converters="clr-namespace:WPG.Converters" xmlns:d="http://schemas.microsoft.com/expression/blend/2006" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d">
    
	<!-- PropertyGrid Style -->
	<Style TargetType="{x:Type local:PropertyGrid}">
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type local:PropertyGrid}">
					<Grid>
						<Grid.RowDefinitions>
							<RowDefinition />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>

						<DockPanel Grid.Row="0" LastChildFill="True">
                            <TextBlock Foreground="#FF509DD3" FontWeight="Light" FontSize="18"  DockPanel.Dock="Top" Text="{TemplateBinding local:PropertyGrid.Headline}" Width="Auto" Height="Auto"  Margin="8" HorizontalAlignment="Left" VerticalAlignment="Center" />
							
							<ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">

								<ItemsControl ItemsSource="{TemplateBinding local:PropertyGrid.Properties}" />
							</ScrollViewer>
						</DockPanel>
						<GridSplitter DataContext="{TemplateBinding local:PropertyGrid.ShowDescription}" Height="10" BorderThickness="0" Grid.ColumnSpan="3" ResizeDirection="Rows" HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
							<GridSplitter.Visibility>
								<Binding>
									<Binding.Converter>
										<BooleanToVisibilityConverter />
									</Binding.Converter>
								</Binding>
							</GridSplitter.Visibility>
						</GridSplitter>
						<StackPanel Background="#171717" Grid.Row="1" DataContext="{TemplateBinding local:PropertyGrid.ShowDescription}">
							<StackPanel.Visibility>
								<Binding>
									<Binding.Converter>
										<BooleanToVisibilityConverter />
									</Binding.Converter>
								</Binding>
							</StackPanel.Visibility>
                            <TextBlock Padding="2 2 2 0" FontWeight="Bold" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type local:PropertyGrid}, ResourceId=TextBlockStyle}}" Text="{Binding Name}" DataContext="{TemplateBinding local:PropertyGrid.SelectedProperty}"></TextBlock>
                            <TextBlock Padding="5 2 2 0" Style="{DynamicResource {ComponentResourceKey TypeInTargetAssembly={x:Type local:PropertyGrid}, ResourceId=TextBlockStyle}}" TextWrapping="WrapWithOverflow" Text="{Binding Description}" DataContext="{TemplateBinding local:PropertyGrid.SelectedProperty}"></TextBlock>
						</StackPanel>
					</Grid>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>