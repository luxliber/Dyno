<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:DynoUI"
  >

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/DynoUI;component/Themes/MetroDark.MSControls.Core.Implicit.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <Style TargetType="{x:Type local:ParameterWindow}">

        <Setter Property="WindowStyle" Value="None"/>
        <Setter Property="ResizeMode" Value="NoResize"/>
        <Setter Property="Topmost" Value="True"/>
        <Setter Property="Background" Value="#FF222222"></Setter>
        <Setter Property="SizeToContent" Value="Height"/>
        <Setter Property="MinWidth" Value="180"/>
        <Setter Property="MaxWidth" Value="300"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:ParameterWindow}">
                    <StackPanel>
                        <Grid >
                            <Label Margin="20,0,0,0" x:Name="ParameterName"  Content="{Binding Title, RelativeSource={RelativeSource TemplatedParent}}" HorizontalAlignment="Left" Foreground="White" FontStyle="Italic" FontSize="11" />
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button x:Name="Ok" Content="✓" Foreground="GreenYellow" IsDefault="True" Width="30"/>
                                <Button x:Name="Cancel" IsCancel="True" Width="30" Padding="0">
                                    <Path Data="M0,0 L1,1 M0,1 L1,0" Stretch="Fill" Stroke="Red" StrokeThickness="2" Width="12" Height="12" />
                                </Button>
                            </StackPanel>
                        </Grid>
                        <ContentPresenter RecognizesAccessKey="True" />
                        <TextBox x:Name="DescText" Text="{Binding Desc,RelativeSource={RelativeSource TemplatedParent}}" MaxLines="5"  BorderThickness="0" IsReadOnly="True" Background="Transparent" TextWrapping="Wrap" Foreground="DarkGray" FontStyle="Italic" FontSize="11" />
                    </StackPanel>

                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding ElementName=DescText, Path=Text}" Value="">
                            <Setter TargetName="DescText" Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsError}" Value="True">
                            <Setter TargetName="DescText" Property="Foreground" Value="OrangeRed"/>
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

   <!-- <StackPanel x:Key="ValueWindowContent">
        <TextBox x:Name="ValueTextBox" Text="{Binding Path=ValueText, RelativeSource={ RelativeSource Mode=FindAncestor, AncestorType=local:ValueWindow }}" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
            <TextBox.Style>
                <Style TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsError,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:ValueWindow}}}" Value="True">
                            <Setter Property="BorderBrush" Value="OrangeRed"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBox.Style>
        </TextBox>
    </StackPanel> -->
    
   
</ResourceDictionary>
